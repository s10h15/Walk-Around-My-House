<!DOCTYPE html>
<html>

<head>
	<title>Walk Around My House</title>
	<link rel="stylesheet" href="styles.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=999.0, user-scalable=yes">
</head>

<body>
	<div id="canvasContainer">
		<canvas id="canvasElement"></canvas>
	</div>

	<script>
		const canvasElementHTML = document.getElementById("canvasElement");
		const context = canvasElementHTML.getContext("2d");

        function loadScript(src) {
			return new Promise((resolve, reject) => {
				const script = document.createElement("script");
				script.type = "module";
				script.src = src;
				script.onload = resolve;
				script.onerror = reject;
				document.head.appendChild(script);
			});
		}

		loadScript("./setupCanvas.js").then(() => {
			const scale = Math.min(canvasElementHTML.width, canvasElementHTML.height) / 1024;
			context.textAlign = "center";
			context.textBaseline = "middle";

			context.fillStyle = "black";
			context.fillRect(0, 0, canvasElementHTML.width, canvasElementHTML.height);

			context.fillStyle = "purple";
			context.font = "bold " + 90 * scale + "px monospace";
			context.fillText("Loading the house... :3", canvasElementHTML.width * 0.5, canvasElementHTML.height * 0.5);
			context.font = "bold " + 60 * scale + "px monospace";
			context.fillText("(will take a while but its happening)", canvasElementHTML.width * 0.5, canvasElementHTML.height * 0.75);

			const scriptMain = document.createElement("script");
			scriptMain.type = "module";
			scriptMain.src = "./main.js";
			document.body.appendChild(scriptMain);
		});
	</script>
</body>
</html>